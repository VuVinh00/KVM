### Khái niệm :
KVM (Kernel-based virtual machine) là một module ảo hóa mã nguồn mở được tích hợp vào Linux. Nó biến Linux thành một hypervisor và cho phép máy chủ có thể chạy nhiều máy ảo độc lập. KVM được tích hợp vào linux kernel từ bản 2.6.20, nó yêu cầu bộ sử lý với chức năng ảo hóa phần cứng, như Intel VT hay AMD-V. KVM cung cấp ảo hóa phần cứng cho rất nhiều hệ điều hành khách bao gồm Window, Linux, BSD, Solaris, Haiku, ReactOS và hệ điều hành nghiên cứu AROS.

- Về bản chất, KVM không thực sự là một hypervisor có chức năng giải lập phần cứng để chạy các máy ảo, chính xác KVM chỉ là một module của kernel linux. Hoặc có thể hình dung KVM giống như một driver cho hypervisor để sử dụng được tính năng ảo hóa của các vi xử lý như Intel VT-x hay AMD-V

- Trong kiến trúc của KVM, Virtual machine được thực hiện như là quy trình xử lý thông thường của Linux, được lập lịch hoạt động như các scheduler tiểu chuẩn của Linux. Trên thực tế, mỗi CPU ảo hoạt động như một tiến trình xử lý của Linux. Điều này cho phép KVM được hưởng lợi từ tất cả các tính năng của nhân Linux

### Cấu trúc của KVM

<img src="">

- **User-facing tools**: Là các công cụ quản lý máy ảo hỗ trợ KVM. Các công cụ có giao diện đồ họa ( virt-manager ) hoặc giao diện dòng lệnh ( virsh ) và virt-tool ( các công cụ này được quản lý bởi thư viện libvirt )

- **Management layer**: Lớp này là thư viện libvirt cung cấp API để các công cụ quản lý máy ảo hoặc các hypervisor tương tác với KVM thực hiện các thao tác quản lý tài nguyên ảo hóa bởi vì KVM chỉ là một module của nhân hỗ trợ cơ chế mapping các chỉ dẫn của CPU ảo để thực hiện trên CPU thật nên KVM không có khả năng giả lập và quản lý tài nguyên ảo hóa. Mà phải dùng nhờ các công nghệ hypervisor khác, thường là QEMU

- **Virtual machine**: Các máy ảo người dùng tạo ra. Thông thường nếu không sử dụng các công cụ như virsh hay virt-manager, KVM sẽ được sử dụng phối hợp với một hypervisor khác như là QEMU

- **Kernel support**: Chính là KVM, cung cấp một module làm hạt nhân cho hạ tầng ảo hóa và một module kernel đặc biệt chỉ hỗ trợ cho các vi xử lý VT-x hoặc AMD-V (kvm-intel.ko hoặc kvm-amd.ko ) để nâng cao hiệu suất ảo hóa

### Các tính năng của KVM

#### Security - Bảo mật

- KVM sử dụng kết hợp giữa SELinux và sVirt (secure virtualization) để tăng cường bảo mật và cô lập máy ảo. SELinux thiết lập danh giới bảo mật xung quanh máy ảo. sVirt mở rộng khả năng của SELinux để cung cấp cơ chế Mandatory Access Control (MAC - Kiểm soát truy cập bắt buộc) để có thể kiểm soát truy cập giữa các process, hay các máy ảo.

#### Memory management - Quản lý bộ nhớ

#### Storage - Lưu trữ

